> Veera(sir):
import pymysql
import json
import os

# Database connection details from environment variables
DB_HOST = os.environ['DB_HOST']      # e.g., mydb.xxxxxx.us-east-1.rds.amazonaws.com
DB_USER = os.environ['DB_USER']
DB_PASSWORD = os.environ['DB_PASSWORD']
DB_NAME = os.environ['DB_NAME']

# Connect to RDS MySQL
def connect_to_rds():
    return pymysql.connect(
        host=DB_HOST,
        user=DB_USER,
        password=DB_PASSWORD,
        database=DB_NAME,
        cursorclass=pymysql.cursors.DictCursor
    )

# Main Lambda handler
def lambda_handler(event, context):
    try:
        method = event['httpMethod']
        if method == 'GET':
            return get_data()
        elif method == 'POST':
            return post_data(event)
        else:
            return {
                'statusCode': 405,
                'body': json.dumps({'error': 'Method Not Allowed'})
            }
    except Exception as e:
        return {
            'statusCode': 500,
            'body': json.dumps({'error': str(e)})
        }

# GET request handler
def get_data():
    connection = connect_to_rds()
    try:
        with connection.cursor() as cursor:
            cursor.execute("SELECT * FROM users")
            result = cursor.fetchall()
            return {
                'statusCode': 200,
                'body': json.dumps(result)
            }
    finally:
        connection.close()

# POST request handler
def post_data(event):
    try:
        body = event.get('body')
        if not body:
            return {
                'statusCode': 400,
                'body': json.dumps({'error': 'Missing request body'})
            }

        data = json.loads(body)
        username = data.get('username')
        email = data.get('email')

        if not username or not email:
            return {
                'statusCode': 400,
                'body': json.dumps({'error': 'Missing required fields: username or email'})
            }

        connection = connect_to_rds()
        try:
            with connection.cursor() as cursor:
                query = "INSERT INTO users (username, email) VALUES (%s, %s)"
                cursor.execute(query, (username, email))
                connection.commit()
                return {
                    'statusCode': 201,
                    'body': json.dumps({'message': f"User {username} added successfully"})
                }
        finally:
            connection.close()

    except json.JSONDecodeError:
        return {
            'statusCode': 400,
            'body': json.dumps({'error': 'Invalid JSON'})
        }
    except Exception as e:
        return {
            'statusCode': 500,
            'body': json.dumps({'error': str(e)})
        }

> Veera(sir):
# Create DB and table before 

CREATE DATABASE dev;
USE dev;

Create TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);



#you can test POST and GET methods through Postman

{
  "username": "veera",
  "email": "veera@example.com"
}




ex: lambda event 


{
  "httpMethod": "POST",
  "body": "{\"username\": \"veera\", \"email\": \"veera@example.com\"}"
}



-----------------

import boto3
import datetime

def lambda_handler(event, context):
    ec2 = boto3.client('ec2', region_name='us-east-1')
    
    instance_id = event['detail']['instance-id']
    timestamp = datetime.datetime.now().strftime('%Y-%m-%d-%H-%M-%S')
    image_name = f"{instance_id}-backup-{timestamp}"
    
    try:
        # Create an AMI
        response = ec2.create_image(
            InstanceId=instance_id,
            Name=image_name,
            Description='Backup AMI created on termination',
            NoReboot=True
        )
        
        print(f"AMI creation initiated for {instance_id}. AMI ID: {response['ImageId']}")
        return {
            'statusCode': 200,
            'body': f"AMI {response['ImageId']} created for instance {instance_id}"
        }
    except Exception as e:
        print(f"Error creating AMI for {instance_id}: {e}")
        return {
            'statusCode': 500,
            'body': f"Error: {str(e)}"
        }